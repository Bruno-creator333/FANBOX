<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FunBox AI ‚Äî Anonymous Messages</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#0f1724;
      --card:#1e293b;
      --accent:#7c3aed;
      --accent2:#06b6d4;
      --accent3:#f43f5e;
      --accent4:#fbbf24;
      --muted:#9aa4b2;
      --glass: rgba(255, 255, 255, 0.03);
      --shadow: rgba(0, 0, 0, 0.3);
    }
    *{box-sizing:border-box;}
    html,body{height:100%;margin:0;font-family:'Inter',sans-serif;color:#e6eef8;background:linear-gradient(180deg,#071021 0%,#07182b 100%);}
    .wrap{max-width:960px;margin:40px auto;padding:24px;}
    header{display:flex;align-items:center;gap:20px;margin-bottom:24px;}
    .logo{width:72px;height:72px;border-radius:16px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:26px;box-shadow:0 8px 30px var(--shadow);}
    h1{margin:0;font-size:28px;}
    p.lead{margin:0;color:var(--muted);font-size:14px;}
    .layout{display:grid;grid-template-columns:1fr 360px;gap:20px;}
    .card{background:var(--card);padding:20px;border-radius:16px;box-shadow:0 8px 40px var(--shadow);transition:all 0.2s ease;}
    .card:hover{box-shadow:0 12px 50px var(--shadow);}
    .compose textarea{width:100%;min-height:140px;background:var(--glass);border:1px solid rgba(255,255,255,0.05);color:inherit;padding:14px;border-radius:12px;resize:vertical;font-size:14px;}
    .compose .row{display:flex;gap:10px;align-items:center;margin-top:14px;}
    .compose input[type=text]{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.05);background:transparent;color:inherit;font-size:14px;}
    .btn{padding:12px 16px;border-radius:14px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent2));color:white;cursor:pointer;font-weight:600;transition:all 0.2s ease;}
    .btn:hover{transform:translateY(-2px);box-shadow:0 6px 18px var(--shadow);}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.1);}
    .messages{max-height:60vh;overflow:auto;margin-top:14px;padding-right:6px;}
    .msg{display:flex;gap:14px;padding:14px;border-radius:14px;margin-bottom:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);transition:all 0.2s ease;}
    .avatar{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,#334155,#0ea5a4);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:16px;}
    .meta{flex:1;}
    .meta .who{font-weight:700;font-size:15px;}
    .meta .time{font-size:12px;color:var(--muted);}
    .meta .text{margin-top:6px;white-space:pre-wrap;font-size:14px;}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center;}
    @media (max-width:880px){.layout{grid-template-columns:1fr;}.sidebar{order:2;}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">FB</div>
      <div>
        <h1>FunBox AI</h1>
        <p class="lead">Send or read anonymous messages ‚Äî shared globally!</p>
      </div>
    </header>
    <div class="layout">
      <main>
        <div class="card compose">
          <label for="msg">Write your message (max 500 chars)</label>
          <textarea id="msg" maxlength="500" placeholder="Type something fun, kind, or mysterious..."></textarea>
          <div class="row">
            <input id="sender" type="text" placeholder="Your name (optional)">
            <button id="send" class="btn">Send Message</button>
          </div>
        </div>
        <div id="messagesContainer" class="card messages" aria-live="polite"></div>
      </main>
      <aside class="sidebar">
        <div class="card" style="text-align:center;">
          <h3>üåç Global Message Board</h3>
          <p style="color:var(--muted);font-size:13px;">Everyone‚Äôs messages appear here instantly.<br>Keep it fun and respectful üí¨</p>
        </div>
      </aside>
    </div>
    <footer>Built with ‚ù§Ô∏è by Bruno ‚Äî FunBox AI</footer>
  </div>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";
    const firebaseConfig = {
      apiKey: "AIzaSyBsLR4xqtx-sdx2RXM4N_JLH0YU8GtCuYY",
      authDomain: "fanboxai.firebaseapp.com",
      projectId: "fanboxai",
      storageBucket: "fanboxai.firebasestorage.app",
      messagingSenderId: "334277537187",
      appId: "1:334277537187:web:4132c5f3d31a3f6d123e16",
      measurementId: "G-JVMYCSKCYN",
      databaseURL: "https://fanboxai-default-rtdb.firebaseio.com/"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const messagesRef = ref(db, "messages");
    const msgEl = document.getElementById("msg");
    const senderEl = document.getElementById("sender");
    const sendBtn = document.getElementById("send");
    const messagesContainer = document.getElementById("messagesContainer");
    sendBtn.addEventListener("click", async () => {
      const text = msgEl.value.trim();
      const sender = senderEl.value.trim() || "Anonymous";
      if (!text) return alert("Please type a message first.");
      await push(messagesRef, { text, sender, createdAt: Date.now() });
      msgEl.value = "";
      senderEl.value = "";
    });
    onValue(messagesRef, (snapshot) => {
      const data = snapshot.val() || {};
      const list = Object.values(data).sort((a, b) => a.createdAt - b.createdAt);
      messagesContainer.innerHTML = "";
      if (list.length === 0) {
        messagesContainer.innerHTML = '<div style="color:var(--muted);padding:20px;text-align:center;">No messages yet ‚Äî be the first!</div>';
      } else {
        list.forEach((m) => {
          const div = document.createElement("div");
          div.className = "msg";
          const initials = m.sender ? m.sender.slice(0, 2).toUpperCase() : "??";
          div.innerHTML = `<div class="avatar">${initials}</div><div class="meta"><div class="who">${m.sender}</div><div class="time">${new Date(m.createdAt).toLocaleString()}</div><div class="text">${m.text}</div></div>`;
          messagesContainer.appendChild(div);
        });
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }
    });
  </script>
</body>
</html>